// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Customer {
  id                String   @id @default(cuid())
  company           String?
  vatNumber         String?  @map("vat_number")
  phone             String?
  website           String?
  group             String?  // High Budget, Low Budget, VIP, Wholesaler
  currency          String?  @default("EUR")
  defaultLanguage   String?  @default("en") @map("default_language")
  
  // Customer Details Address
  address           String?
  city              String?
  state             String?
  zipCode           String?  @map("zip_code")
  country           String?
  
  // Billing Address
  billingStreet     String?  @map("billing_street")
  billingCity       String?  @map("billing_city")
  billingState      String?  @map("billing_state")
  billingZipCode    String?  @map("billing_zip_code")
  billingCountry    String?  @map("billing_country")
  sameAsCustomerInfo Boolean @default(false) @map("same_as_customer_info")
  
  // Shipping Address
  shippingStreet    String?  @map("shipping_street")
  shippingCity      String?  @map("shipping_city")
  shippingState     String?  @map("shipping_state")
  shippingZipCode   String?  @map("shipping_zip_code")
  shippingCountry   String?  @map("shipping_country")
  copyBillingAddress Boolean @default(false) @map("copy_billing_address")
  
  createdAt         DateTime @default(now()) @map("created_at")
  updatedAt         DateTime @updatedAt @map("updated_at")

  @@map("customers")
}

model Invoice {
  id                     String   @id @default(uuid())
  customerName           String?  @map("customer_name")
  customerEmail          String?  @map("customer_email")
  billToAddress          String?  @map("bill_to_address")
  billToCity             String?  @map("bill_to_city")
  billToState            String?  @map("bill_to_state")
  billToCountry          String?  @map("bill_to_country")
  shipToName             String?  @map("ship_to_name")
  shipToAddress          String?  @map("ship_to_address")
  shipToCity             String?  @map("ship_to_city")
  shipToState            String?  @map("ship_to_state")
  shipToCountry          String?  @map("ship_to_country")
  invoiceNumber          String   @map("invoice_number")
  invoiceDate            DateTime @map("invoice_date")
  dueDate                DateTime @map("due_date")
  preventOverdueReminders Boolean  @default(false) @map("prevent_overdue_reminders")
  tags                   Json?
  paymentModes           Json?    @map("payment_modes")
  currency               String
  saleAgent              String?  @map("sale_agent")
  isRecurring            Boolean  @default(false) @map("is_recurring")
  discountType           String   @map("discount_type")
  discountValue          Float    @map("discount_value")
  adminNote              String?  @map("admin_note")
  quantityDisplay        String   @map("quantity_display")
  adjustment             Float    @default(0)
  lineItems              Json     @map("line_items")
  clientNote             String?  @map("client_note")
  terms                  String?
  termsOfPayment         String?  @map("terms_of_payment")
  // Company Information
  companyName            String?  @map("company_name")
  companyContactPerson   String?  @map("company_contact_person")
  companyAddress         String?  @map("company_address")
  companyPhone           String?  @map("company_phone")
  companyEmail           String?  @map("company_email")
  companySiret           String?  @map("company_siret")
  companyVat             String?  @map("company_vat")
  subtotal               Float
  discountAmount         Float    @map("discount_amount")
  taxAmount              Float    @map("tax_amount")
  total                  Float
  createdAt              DateTime @default(now()) @map("created_at")
  updatedAt              DateTime @updatedAt @map("updated_at")

  @@map("invoices")
}

